<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebURL - StringProtocol</title>
    <link rel="stylesheet" type="text/css" href="/swift-url/all.css" media="all" />
</head>
<body>
    <header>
        <a href="/swift-url/">
            <strong>
                WebURL
            </strong>
            <span>Documentation</span>
        </a>
        <sup>Beta</sup>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#properties">Properties</a><ul><li class="variable"><a href="#stringprotocol.urlcomponentencoded">url​Component​Encoded</a></li><li class="variable"><a href="#stringprotocol.urlformencoded">url​Form​Encoded</a></li><li class="variable"><a href="#stringprotocol.percentdecoded">percent​Decoded</a></li><li class="variable"><a href="#stringprotocol.urlformdecoded">url​Form​Decoded</a></li></ul></li><li><a href="#methods">Methods</a><ul><li class="function"><a href="#stringprotocol.percentencoded(as:)">percent​Encoded(as:​)</a></li><li class="function"><a href="#stringprotocol.percentdecoded(from:)">percent​Decoded(from:​)</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Extensions on</small>
    <code class="name">StringProtocol</code>
</h1>
    <section id="properties">
        <h2>Properties</h2>

        <div role="article" class="variable" id="stringprotocol.urlcomponentencoded">
    <h3>
        <code>url​Component​Encoded</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">inlinable</span>
<span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">urlComponentEncoded</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Returns a copy of this string, encoded using the <code>\.component</code> encoding-set.</p>

</div>
<div class="discussion">
    <p>The <code>\.component</code> encoding-set is suitable for encoding strings so they may be embedded in a URL's <code>path</code>, <code>query</code>, <code>fragment</code>,
or in the names of opaque <code>host</code>s. It does not perform substitutions.</p>

<p>The URL standard confirms that encoding a string using the <code>\.component</code> set gives identical results
to JavaScript's <code>encodeURIComponent()</code> function.</p>

<html><body><pre class="highlight"><code><span class="string literal">"</span><span class="string literal">hello, world!</span><span class="string literal">"</span>.<span class="variable">urlComponentEncoded</span> <span class="comment">// hello%2C%20world!</span>
<span class="string literal">"</span><span class="string literal">/usr/bin/swift</span><span class="string literal">"</span>.<span class="variable">urlComponentEncoded</span> <span class="comment">// %2Fusr%2Fbin%2Fswift</span>
<span class="string literal">"</span><span class="string literal">😎</span><span class="string literal">"</span>.<span class="variable">urlComponentEncoded</span> <span class="comment">// %F0%9F%98%8E</span>
</code></pre></body></html>
</div>
</div>
<div role="article" class="variable" id="stringprotocol.urlformencoded">
    <h3>
        <code>url​Form​Encoded</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">inlinable</span>
<span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">urlFormEncoded</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Returns a copy of this string, encoded using the <code>application/x-www-form-urlencoded</code> (<code>\.form</code>) encoding-set.</p>

</div>
<div class="discussion">
    <p>To create an <code>application/x-www-form-urlencoded</code> key-value pair string from a collection of keys and values, encode each key and value, and join
the results using the format: <code>encoded-key-1=encoded-value-1&amp;encoded-key-2=encoded-value-2...</code>. For example:</p>

<html><body><pre class="highlight"><code><span class="keyword">let</span> <span class="variable">myKVPs</span>: <span class="type">KeyValuePairs</span> = [<span class="string literal">"</span><span class="string literal">favourite pet</span><span class="string literal">"</span>: <span class="string literal">"</span><span class="string literal">🦆, of course</span><span class="string literal">"</span>, <span class="string literal">"</span><span class="string literal">favourite foods</span><span class="string literal">"</span>: <span class="string literal">"</span><span class="string literal">🍎 &amp; 🍦</span><span class="string literal">"</span> ]
<span class="keyword">let</span> <span class="variable">form</span> = <span class="variable">myKVPs</span>.<span class="variable">map</span> { <span class="variable">key</span>, <span class="variable">value</span> <span class="keyword">in</span> <span class="string literal">"</span><span class="string literal"/>\<span class="string literal">(</span><span class="variable">key</span>.<span class="variable">urlFormEncoded</span><span class="string literal">)</span><span class="string literal">=</span>\<span class="string literal">(</span><span class="variable">value</span>.<span class="variable">urlFormEncoded</span><span class="string literal">)</span><span class="string literal"/><span class="string literal">"</span> }
                 .<span class="variable">joined</span>(<span class="variable">separator</span>: <span class="string literal">"</span><span class="string literal">&amp;</span><span class="string literal">"</span>)
<span class="variable">print</span>(<span class="variable">form</span>) <span class="comment">// favourite+pet=%F0%9F%A6%86%2C+of+course&amp;favourite+foods=%F0%9F%8D%8E+%26+%F0%9F%8D%A6</span>
</code></pre></body></html>
<p>This encoding-set performs substitutions. Users should take care to also decode the resulting strings using the <code>application/x-www-form-urlencoded</code>
decoding-set.</p>

</div>
</div>
<div role="article" class="variable" id="stringprotocol.percentdecoded">
    <h3>
        <code>percent​Decoded</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">inlinable</span>
<span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">percentDecoded</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Returns a string formed by decoding all percent-encoded code-units in the contents of this string.</p>

</div>
<div class="discussion">
    <html><body><pre class="highlight"><code><span class="string literal">"</span><span class="string literal">hello%2C%20world!</span><span class="string literal">"</span>.<span class="variable">percentDecoded</span> <span class="comment">// hello, world!</span>
<span class="string literal">"</span><span class="string literal">%2Fusr%2Fbin%2Fswift</span><span class="string literal">"</span>.<span class="variable">percentDecoded</span> <span class="comment">// /usr/bin/swift</span>
<span class="string literal">"</span><span class="string literal">%F0%9F%98%8E</span><span class="string literal">"</span>.<span class="variable">percentDecoded</span> <span class="comment">// 😎</span>
</code></pre></body></html>
<p>This is equivalent to calling <code>percentDecodedString(from: \.percentEncodedOnly)</code>. If this collection's contents were encoded
with substitutions (e.g. form-encoding), use <code>percentDecoded(from:)</code> instead, providing a <code>PercentDecodeSet</code> which is able to
reverse those substitutions.</p>

<p>Equivalent to JavaScript's <code>decodeURIComponent()</code> function.</p>

<aside class="Important">
    <p>Users should beware that percent-encoding has frequently been used by attackers to smuggle malicious inputs (e.g. extra path components which lead to sensitive data when used as a relative path, ASCII NULL bytes, or SQL injection), sometimes under multiple layers of encoding. Users to be careful not to over-decode their strings, and every time a string is percent-decoded, the result must be considered to be <strong>entirely unvalidated</strong>, even if the source contents were previously validated.</p>

</aside>
</div>
</div>
<div role="article" class="variable" id="stringprotocol.urlformdecoded">
    <h3>
        <code>url​Form​Decoded</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">inlinable</span>
<span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">urlFormDecoded</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Returns a string formed by decoding all percent-encoded code-units in this string and reversing substitutions made by
the <code>application/x-www-form-urlencoded</code> encode-set.</p>

</div>
<div class="discussion">
    <p>This is equivalent to callling <code>percentDecoded(from: \.form)</code>.</p>

<p>The following example decodes a form-encoded URL query by splitting a string in to key-value pairs at the &quot;&amp;&quot; character, splitting the key from the value
at the &quot;=&quot; character, and decoding each key and value from its encoded representation:</p>

<html><body><pre class="highlight"><code><span class="keyword">let</span> <span class="variable">form</span> = <span class="string literal">"</span><span class="string literal">favourite+pet=%F0%9F%A6%86%2C+of+course&amp;favourite+foods=%F0%9F%8D%8E+%26+%F0%9F%8D%A6</span><span class="string literal">"</span>
<span class="keyword">let</span> <span class="variable">decoded</span> = <span class="variable">form</span>.<span class="variable">split</span>(<span class="variable">separator</span>: <span class="string literal">"</span><span class="string literal">&amp;</span><span class="string literal">"</span>).<span class="variable">map</span> { <span class="variable">joined_kvp</span> <span class="keyword">in</span> <span class="variable">joined_kvp</span>.<span class="variable">split</span>(<span class="variable">separator</span>: <span class="string literal">"</span><span class="string literal">=</span><span class="string literal">"</span>) }
                  .<span class="variable">map</span> { <span class="variable">kvp</span> <span class="keyword">in</span> (<span class="variable">kvp</span>[<span class="number literal">0</span>].<span class="variable">urlFormDecoded</span>, <span class="variable">kvp</span>[<span class="number literal">1</span>].<span class="variable">urlFormDecoded</span>) }
<span class="variable">print</span>(<span class="variable">decoded</span>) <span class="comment">// [("favourite pet", "🦆, of course"), ("favourite foods", "🍎 &amp; 🍦")]</span>
</code></pre></body></html>
<aside class="Important">
    <p>Users should beware that percent-encoding has frequently been used by attackers to smuggle malicious inputs (e.g. extra path components which lead to sensitive data when used as a relative path, ASCII NULL bytes, or SQL injection), sometimes under multiple layers of encoding. Users to be careful not to over-decode their strings, and every time a string is percent-decoded, the result must be considered to be <strong>entirely unvalidated</strong>, even if the source contents were previously validated.</p>

</aside>
</div>
</div>
    </section>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="stringprotocol.percentencoded(as:)">
    <h3>
        <code>percent​Encoded(as:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">inlinable</span> <span class="attribute">@</span><span class="attribute">inline</span>(<span class="variable">__always</span>)
<span class="keyword">public</span> <span class="keyword">func</span> <span class="function">percentEncoded</span>&lt;<span class="variable">EncodeSet</span>: <span class="type">PercentEncodeSetProtocol</span>&gt;(
  <span class="variable">as</span> <span class="variable">encodeSet</span>: <span class="type">KeyPath</span>&lt;<span class="type">PercentEncodeSet</span>, <span class="type">EncodeSet</span>.<span class="type">Type</span>&gt;
) -&gt; <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Returns a copy of this string, encoded using the given <code>EncodeSet</code>.</p>

</div>
<div class="discussion">
    <p>This function only <em>adds</em> percent-encoding or substitutions as required by <code>EncodeSet</code>; it does not decode any percent-encoded or substituted characters
already contained in the string.</p>

<p>Percent-encoding transforms strings containing arbitrary Unicode characters to ones containing a limited set of ASCII code-points permitted by
the <code>EncodeSet</code>. If the <code>EncodeSet</code> performs substitutions, users should take care to decode the contents using the same <code>EncodeSet</code>.</p>

<html><body><pre class="highlight"><code><span class="string literal">"</span><span class="string literal">hello, world!</span><span class="string literal">"</span>.<span class="variable">percentEncoded</span>(<span class="variable">as</span>: \.<span class="variable">userInfo</span>) <span class="comment">// hello,%20world!</span>
<span class="string literal">"</span><span class="string literal">/usr/bin/swift</span><span class="string literal">"</span>.<span class="variable">percentEncoded</span>(<span class="variable">as</span>: \.<span class="variable">component</span>) <span class="comment">// %2Fusr%2Fbin%2Fswift</span>
<span class="string literal">"</span><span class="string literal">got en%63oders?</span><span class="string literal">"</span>.<span class="variable">percentEncoded</span>(<span class="variable">as</span>: \.<span class="variable">userInfo</span>) <span class="comment">// got%20en%63oders%3F</span>
<span class="string literal">"</span><span class="string literal">king of the 🦆s</span><span class="string literal">"</span>.<span class="variable">percentEncoded</span>(<span class="variable">as</span>: \.<span class="variable">form</span>) <span class="comment">// king+of+the+%F0%9F%A6%86s</span>
</code></pre></body></html>
</div>
</div>
<div role="article" class="function" id="stringprotocol.percentdecoded(from:)">
    <h3>
        <code>percent​Decoded(from:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">inlinable</span> <span class="attribute">@</span><span class="attribute">inline</span>(<span class="variable">__always</span>)
<span class="keyword">public</span> <span class="keyword">func</span> <span class="function">percentDecoded</span>&lt;<span class="variable">EncodeSet</span>&gt;(
  <span class="variable">from</span> <span class="variable">decodeSet</span>: <span class="type">KeyPath</span>&lt;<span class="type">PercentDecodeSet</span>, <span class="type">EncodeSet</span>.<span class="type">Type</span>&gt;
) -&gt; <span class="type">String</span> <span class="keyword">where</span> <span class="type">EncodeSet</span>: <span class="type">PercentEncodeSetProtocol</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Returns a string formed by decoding all percent-encoded code-units in this string, and using <code>EncodeSet</code> to restore substituted code-units.</p>

</div>
<div class="discussion">
    <p>If no code-points were substituted when this string was encoded, <code>\.percentEncodingOnly</code> may be used to only remove percent-encoding.</p>

<html><body><pre class="highlight"><code><span class="string literal">"</span><span class="string literal">hello,%20world!</span><span class="string literal">"</span>.<span class="variable">percentDecoded</span>(<span class="variable">from</span>: \.<span class="variable">percentEncodingOnly</span>) <span class="comment">// "hello, world!"</span>
<span class="string literal">"</span><span class="string literal">%2Fusr%2Fbin%2Fswift</span><span class="string literal">"</span>.<span class="variable">percentDecoded</span>(\.<span class="variable">percentEncodingOnly</span>) <span class="comment">// "/usr/bin/swift"</span>
<span class="string literal">"</span><span class="string literal">king+of+the+%F0%9F%A6%86s</span><span class="string literal">"</span>.<span class="variable">percentDecoded</span>(\.<span class="variable">form</span>) <span class="comment">// "king of the 🦆s"</span>
</code></pre></body></html>
<aside class="Important">
    <p>Users should beware that percent-encoding has frequently been used by attackers to smuggle malicious inputs (e.g. extra path components which lead to sensitive data when used as a relative path, ASCII NULL bytes, or SQL injection), sometimes under multiple layers of encoding. Users to be careful not to over-decode their strings, and every time a string is percent-decoded, the result must be considered to be <strong>entirely unvalidated</strong>, even if the source contents were previously validated.</p>

</aside>
</div>
</div>
    </section>
        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2021-05-03T17:07:33+0000">May 3, 2021</time> using a fork of <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-beta.6</span>.
</p>
    </footer>
</body>
</html>
